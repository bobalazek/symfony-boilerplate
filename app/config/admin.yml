sonata_block:
    default_contexts: [cms]
    blocks:
        sonata.admin.block.admin_list:
            contexts: [admin]

sonata_admin:
    title: "Administration"
    title_logo: 'assets/img/logo/icon.png'

services:
    admin.user:
        class: AdminBundle\Admin\UserAdmin
        arguments:
            - ~
            - AppBundle\Entity\User
            - AdminBundle:User
        tags:
            - name: sonata.admin
              manager_type: orm
              group: General
              label: Users
        calls:
            - [setContainer, ["@service_container"]]

    admin.user_action:
        class: AdminBundle\Admin\UserActionAdmin
        arguments:
            - ~
            - AppBundle\Entity\UserAction
            - ~
        tags:
            - name: sonata.admin
              manager_type: orm
              group: General
              label: User Actions
        calls:
            - [setContainer, ["@service_container"]]

    admin.user_recovery_code:
        class: AdminBundle\Admin\UserRecoveryCodeAdmin
        arguments:
            - ~
            - AppBundle\Entity\UserRecoveryCode
            - ~
        tags:
            - name: sonata.admin
              manager_type: orm
              group: General
              label: User Recovery Codes
        calls:
            - [setContainer, ["@service_container"]]

    admin.user_blocked_action:
        class: AdminBundle\Admin\UserBlockedActionAdmin
        arguments:
            - ~
            - AppBundle\Entity\UserBlockedAction
            - ~
        tags:
            - name: sonata.admin
              manager_type: orm
              group: General
              label: User Blocked Admin
        calls:
            - [setContainer, ["@service_container"]]

    admin.login_code:
        class: AdminBundle\Admin\UserLoginCodeAdmin
        arguments:
            - ~
            - AppBundle\Entity\UserLoginCode
            - ~
        tags:
            - name: sonata.admin
              manager_type: orm
              group: General
              label: User Login Codes
        calls:
            - [setContainer, ["@service_container"]]
